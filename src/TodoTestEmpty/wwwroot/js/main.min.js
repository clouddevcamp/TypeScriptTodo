var todos=[],Todo=function(){function o(){}return o.prototype.addTodo=function(o){todos.push(o),window.sessionStorage.setItem("todo",JSON.stringify(todos));var t='<li data-index="'+(todos.length-1)+'"> <label> <input type="checkbox" class="checkbox"> <span class="title">'+o.baslik+'</span> <span class="date">'+o.tarih+'</span> <button class="removeTodo">X</button></label></li>';return $(".todoItem").append(t),!0},o.prototype.getTodos=function(){$(".todoItem li").remove();var o=window.sessionStorage.getItem("todo");if(o){todos=JSON.parse(o);for(var t in todos){var e=todos[t],d=e.done?"done":"",s=e.done?"checked":"",n='<li data-index="'+t+'" class=" '+d+'"> <label> <input type="checkbox" class="checkbox" '+s+'> <span class="title">'+e.baslik+'</span> <span class="date">'+e.tarih+'</span> <button class="removeTodo">X</button></label></li>';$(".todoItem").append(n)}}},o.prototype.updateTodo=function(o,t){todos[o]&&(todos[o].done=t,window.sessionStorage.setItem("todo",JSON.stringify(todos))),this.getTodos()},o.prototype.removeTodo=function(o){todos.splice(o,1),window.sessionStorage.setItem("todo",JSON.stringify(todos)),this.getTodos()},o}();$(document).ready(function(){var o=new Todo;o.getTodos(),$("#btnTodoAdd").click(function(t){var e={baslik:$("#txtTodoName").val(),tarih:new Date,done:!1};o.addTodo(e),$("#txtTodoName").val("")}),$(document).on("click","li label",function(t){var e=$(this).parent().data("index");$(this).find(".checkbox").prop("checked")?($(this).parent().addClass("done"),o.updateTodo(e,!0)):($(this).parent().removeClass("done"),o.updateTodo(e,!1))}),$(document).on("click",".removeTodo",function(t){var e=$(this).parents("li").data("index");o.removeTodo(e)})});